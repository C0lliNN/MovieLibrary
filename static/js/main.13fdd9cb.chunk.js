(this["webpackJsonpmovies-library"]=this["webpackJsonpmovies-library"]||[]).push([[0],{25:function(e,a,t){e.exports={SearchBar:"SearchBar_SearchBar__2erV7",Input:"SearchBar_Input__33z7k",Button:"SearchBar_Button__324iJ"}},28:function(e,a,t){e.exports={Header:"Header_Header__1V2Rk",Title:"Header_Title__jUppm"}},31:function(e,a,t){e.exports={MovieInformation:"MovieInformation_MovieInformation__1wJS0",TextInfo:"MovieInformation_TextInfo__16mYi"}},46:function(e,a,t){e.exports={Spinner:"Spinner_Spinner__W-iXA",load2:"Spinner_load2__34a17"}},47:function(e,a,t){e.exports={ErrorMessage:"ErrorMessage_ErrorMessage__1yqxK"}},48:function(e,a,t){e.exports=t.p+"static/media/search.a551e802.svg"},49:function(e,a,t){e.exports={Movie:"Movie_Movie__2sQvK"}},50:function(e,a,t){e.exports={Movies:"Movies_Movies__1AXuu"}},51:function(e,a,t){e.exports={Footer:"Footer_Footer__5tB1I"}},52:function(e){e.exports=JSON.parse('{"pageTitle":"Biblioteca de Filmes","Header.title":"Biblioteca de Filmes","SearchBar.placeholder":"Procure um filme...","Movies.searchBy":"Procurar por","Movies.mostPopularMovies":"Filmes Mais Populares","Movie.notSpecified":"N\xe3o espec\xedficado","Movie.noPosterAvailable":"Sem imagem dispon\xedvel","MovieInformation.production":"Produ\xe7\xe3o:","MovieInformation.releaseDate":"Data de Lan\xe7amento:","MovieInformation.genres":"G\xeaneros:","MovieInformation.website":"P\xe1gina:","MovieInformation.overview":"Vis\xe3o Geral:","ErrorMessage.title":"Algo inesperado aconteceu!","ErrorMessage.error":"Erro:","languageAPIIdentifider":"pt-BR"}')},53:function(e){e.exports=JSON.parse('{"pageTitle":"Movie Library","Header.title":"Movie Library","SearchBar.placeholder":"Search a Movie...","Movies.searchBy":"Search By","Movies.mostPopularMovies":"Most Popular Movies","Movie.notSpecified":"Not Specified","Movie.noPosterAvailable":"No Poster Available","MovieInformation.production":"Production:","MovieInformation.releaseDate":"Release Date:","MovieInformation.genres":"Genres:","MovieInformation.website":"Website:","MovieInformation.overview":"Overview:","ErrorMessage.title":"Something unexpected has happened!","ErrorMessage.error":"Error:","languageAPIIdentifider":"en-US"}')},60:function(e,a,t){e.exports=t(89)},65:function(e,a,t){},66:function(e,a,t){},89:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(44),i=t.n(o),l=(t(65),t(66),t(28)),s=t.n(l),c=t(18),u=t(34),m=function(){return n.a.createElement("header",{className:s.a.Header},n.a.createElement(c.b,{to:"/"},n.a.createElement("h1",{className:s.a.Title},n.a.createElement(u.a,{id:"Header.title",defaultMessage:"Movie Library"}))))},v=t(15),p=t(10),d=t(11),g=t(13),f=t(12),h=t(14),M=t(46),E=t.n(M),S=function(e){return n.a.createElement("div",{className:E.a.Spinner},e.text)},_=t(16),b=t.n(_),y=t(47),I=t.n(y),w=function(e){return n.a.createElement("div",{className:I.a.ErrorMessage},n.a.createElement("h2",null,n.a.createElement(u.a,{id:"ErrorMessage.title",defaultMessage:"Something unexpected has happened!"})),n.a.createElement("p",null,n.a.createElement(u.a,{id:"ErrorMessage.error",defaultMessage:"Error:"}),e.message))},P=t(31),k=t.n(P),B=t(9),x=function(e){var a=[];if(e.movie.production_companies){var t=e.movie.production_companies.map((function(e){return e.name}));a.push(n.a.createElement("p",{key:"companies"},n.a.createElement("span",null,n.a.createElement(u.a,{id:"MovieInformation.production",defaultMessage:"Production:"})),"\xa0",t.join(", ")))}if(e.movie.release_date){var r=new Date(e.movie.release_date);a.push(n.a.createElement("p",{key:"releaseDate"},n.a.createElement("span",null,n.a.createElement(u.a,{id:"MovieInformation.releaseDate",defaultMessage:"Release Date:"}),"\xa0"),n.a.createElement(B.a,{value:r,year:"numeric",month:"2-digit",day:"2-digit"})))}if(e.movie.genres){var o=e.movie.genres.map((function(e){return e.name}));a.push(n.a.createElement("p",{key:"genres"},n.a.createElement("span",null,n.a.createElement(u.a,{id:"MovieInformation.genres",defaultMessage:"Genres:"}),"\xa0"),o.join(", ")))}return e.movie.homepage&&a.push(n.a.createElement("p",{key:"website"},n.a.createElement("span",null,n.a.createElement(u.a,{id:"MovieInformation.website",defaultMessage:"Website:"}),"\xa0"),n.a.createElement("a",{href:e.movie.homepage,target:"_blank",rel:"noopener noreferrer"},e.movie.homepage))),e.movie.overview&&a.push(n.a.createElement("p",{key:"overview"},n.a.createElement("span",null,n.a.createElement(u.a,{id:"MovieInformation.overview",defaultMessage:"Overview:"}),"\xa0"),e.movie.overview)),n.a.createElement("article",{className:k.a.MovieInformation},n.a.createElement("h2",null,e.movie.title),n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("img",{src:"http://image.tmdb.org/t/p/w500/".concat(e.movie.poster_path),alt:e.movie.title+" Poster"})),n.a.createElement("div",{className:k.a.TextInfo},a)))},N=t(5),O=function(e){function a(){var e,t;Object(p.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(n)))).state={loading:!0,movie:null,error:null},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e=null;return this.state.loading&&(e=n.a.createElement(S,{text:"Loading Movie Information..."})),this.state.movie&&(e=n.a.createElement(x,{movie:this.state.movie})),this.state.error&&(e=n.a.createElement(w,null)),n.a.createElement("section",null,e)}},{key:"componentDidMount",value:function(){var e=this,a=this.props.intl.formatMessage({id:"languageAPIIdentifider",defaultMessage:"en-US"});b.a.get("/movie/".concat(this.props.match.params.id,"?api_key=466eefcef086aaa1375e8ecfebc6a345&language=").concat(a)).then((function(a){e.setState({loading:!1,movie:a.data,error:null})})).catch((function(a){e.setState({loading:!1,movie:null,error:a})}))}}]),a}(r.Component),j=Object(N.c)(O),q=t(25),A=t.n(q),D=t(48),F=t.n(D),H=function(e){return n.a.createElement("form",{className:A.a.SearchBar,onSubmit:e.onSearchSubmit},n.a.createElement("input",{required:!0,value:e.value,onChange:e.onValueChange,className:A.a.Input,placeholder:e.intl.formatMessage({id:"SearchBar.placeholder",defaultMessage:"Search a Movie..."})}),n.a.createElement("button",{className:A.a.Button},n.a.createElement("img",{src:F.a,alt:"Search"})))},V=t(49),L=t.n(V),T=function(e){var a=e.intl.formatMessage({id:"Movie.notSpecified",defaultMessage:"Not Specified"}),t=e.releaseYear?e.releaseYear:a,r=e.intl.formatMessage({id:"Movie.noPosterAvailable",defaultMessage:"No Poster Available"}),o=e.image?n.a.createElement("img",{src:e.image,alt:"".concat(e.title," Poster")}):n.a.createElement("h4",null,r);return n.a.createElement("article",{className:L.a.Movie},n.a.createElement(c.b,{to:"/movie/"+e.id},n.a.createElement("h3",null,e.title),o,n.a.createElement("p",null,"(",t,")")))},U=t(50),C=t.n(U),R=function(e){var a=null;e.movies&&(a=e.movies.map((function(a){var t=a.poster_path?"http://image.tmdb.org/t/p/w342/".concat(a.poster_path):null,r=a.release_date?a.release_date.substring(0,4):null;return n.a.createElement(T,{key:a.id,id:a.id,title:a.title,image:t,releaseYear:r,intl:e.intl})})));var t=e.intl.formatMessage({id:"Movies.searchBy",defaultMessage:"Search By"}),r=e.intl.formatMessage({id:"Movies.mostPopularMovies",defaultMessage:"Most Popular Movies"}),o=e.query?t+" "+e.query:r;return n.a.createElement("div",{className:C.a.Movies},n.a.createElement("h2",null,o),n.a.createElement("br",null),n.a.createElement("div",null,a))},J=function(e){function a(){var e,t;Object(p.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(n)))).state={movies:null,loading:!0,error:!1,searchFieldValue:"",queryString:""},t.onValueChangeHandler=function(e){t.setState({searchFieldValue:e.target.value})},t.onSearchSubmitHandler=function(e){e.preventDefault(),""===t.state.searchFieldValue.trim()?t.props.history.push("/"):(t.setState({loading:!0,error:null,movies:null}),t.props.history.push("?query="+encodeURI(t.state.searchFieldValue)))},t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e=null;return this.state.loading&&(e=n.a.createElement(S,{text:"Loading Most Popular Movies"})),this.state.movies&&(e=n.a.createElement(R,{movies:this.state.movies,query:this.state.queryString,intl:this.props.intl})),this.state.error&&(e=n.a.createElement(w,{message:this.state.error.message})),n.a.createElement("section",null,n.a.createElement(H,{value:this.state.searchFieldValue,onValueChange:this.onValueChangeHandler,onSearchSubmit:this.onSearchSubmitHandler,intl:this.props.intl}),e)}},{key:"componentDidMount",value:function(){var e=this,a=this.props.intl.formatMessage({id:"languageAPIIdentifider",defaultMessage:"en-US"});b.a.get("/movie/popular?api_key=466eefcef086aaa1375e8ecfebc6a345&language=".concat(a,"&page=1")).then((function(a){e.setState({movies:a.data.results,loading:!1,error:null})})).catch((function(a){e.setState({error:a,movies:null,loading:!1})}))}},{key:"componentDidUpdate",value:function(e,a,t){var r=this;if(a.queryString!==this.state.queryString){var n=this.props.intl.formatMessage({id:"languageAPIIdentifider",defaultMessage:"en-US"}),o=this.state.queryString?"/search/movie?api_key=466eefcef086aaa1375e8ecfebc6a345&language=".concat(n,"&page=1&include_adult=true&query=").concat(this.state.queryString):"/movie/popular?api_key=466eefcef086aaa1375e8ecfebc6a345&language=".concat(n,"&page=1");b.a.get(o).then((function(e){r.setState({movies:e.data.results,loading:!1,error:null})})).catch((function(e){r.setState({error:e,movies:null,loading:!1})}))}}}],[{key:"getDerivedStateFromProps",value:function(e,a){var t=new URLSearchParams(e.location.search).get("query");return a.queryString!==t?{queryString:t}:null}}]),a}(r.Component),W=Object(N.c)(J),Y=t(51),G=t.n(Y),K=function(){return n.a.createElement("footer",{className:G.a.Footer},n.a.createElement("h3",null,"Raphael Collin \xa9 ",(new Date).getFullYear()))},X=Object(N.c)((function(e){return document.title=e.intl.formatMessage({id:"pageTitle",defaultMessage:"Movie Library"}),n.a.createElement("main",null,n.a.createElement(c.a,null,n.a.createElement(m,null),n.a.createElement(v.c,null,n.a.createElement(v.a,{path:"/movie/:id",component:j}),n.a.createElement(v.a,{path:"/",component:W})),n.a.createElement(K,null)))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var z=t(27),Q=t(52),$=t(53);b.a.defaults.baseURL="https://api.themoviedb.org/3";var Z={pt:Q,en:$},ee=navigator.language.split(/[-_]/)[0];i.a.render(n.a.createElement(z.a,{locale:ee,messages:Z[ee]},n.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[60,1,2]]]);
//# sourceMappingURL=main.13fdd9cb.chunk.js.map